<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Digite o código</title>
     <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
  <link rel="shortcut icon" href="https://i.ibb.co/7NybZ3W7/1.png" type="image/x-icon">
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Passion+One:wght@400;700;900&display=swap");
        @import url("https://fonts.googleapis.com/css2?family=Lexend+Deca:wght@100..900&display=swap");

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        .modal-title {
    color: rgba(97, 53, 12, 1);
    font-size: 1.5rem;
    font-weight: 700;
}

        body {
            font-family: 'Lexend Deca', sans-serif;
    ;
            min-height: 80vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            
            padding: 4px ;
            display: flex;
            align-items: center;
            gap: 80px;
         
        }

        .lock-section {
            flex-shrink: 0;
            display: none; /* Inicia oculto por padrão */
        }

        .content-section {
            flex: 1;
            text-align: center;
        }

        /* --- Estilos base (para telas menores) --- */
        .title {
            font-family: "Passion One", serif;
            font-weight: 700;
            font-size: 32px;
            color: #613510;
            margin-bottom: 12px;
        }

        .subtitle {
            color: #000000;
            font-size: 16px;
            text-align: justify;
            margin-bottom: 35px;
            line-height: 1.4;
        }

        .code-inputs {
            display: flex;
            justify-content: center;
            gap: 12px;
            margin-bottom: 35px;
        }

        .code-input {
            width: 50px;
            height: 50px;
            border: 2px solid #E5E5E5;
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #333;
            background: white;
            
            outline: none;
        }

       

        .confirm-btn {
          
 background-color: rgba(226, 204, 174, 1);
      border: none; /* cor marrom */
      border-color:none;
      box-shadow: 0;
      outline: none;
      border-radius: 10px;/* cor da borda */
      color: #4e3629;
      font-family: 'Lexend Deca', sans-serif;
      padding: 8px 24px;
      font-weight: 400;
      font-size: 14px;
      margin-top: 0.5rem;
      margin-bottom: 0;
        
    }
.confirm-btn:hover {
  background-color: #caae8d;
  color: #3d2106;

        
         }
           @media(min-width: 800px){
.confirm-btn{
          font-weight: 400;
           padding: 8px 26px;
            border-radius: 10px;
            font-size: 14px;
            margin-top: 0.5rem;

            
        }
    }


        /* --- Adaptação para telas maiores que 1000px --- */
        @media (min-width: 1000px) {
           

          
 .container {
            background: white;
            
            padding: 3.2rem 10rem 0px 0px;
            display: flex;
           
            
         
        }

    .lock-section {
            right: min(56vh, 6%);
            left: min(1200px, 15%);
            top: 16rem;
            
            display: block;
        }
            
            /* Estilos do cadeado usando vw */
            .lock-circle {
                width: 35vw;
                height: 35vw;
                max-width: 650px; /* Limita o crescimento máximo */
                max-height: 650px;
                background: linear-gradient(135deg, #8B4513 0%, #A0522D 100%);
                border-radius: 50%;
                display: flex;
                align-items: center;
                justify-content: center;
                position: relative;
               
            }

            .lock-circle::before {
                content: '';
                position: absolute;
                width: 28vw;
                height: 28vw;
                max-width: 470px;
                max-height: 470px;
                background: linear-gradient(135deg, #DEB887 0%, #F5DEB3 100%);
                border-radius: 50%;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
            }
            
       

        .code-input {
             display: flex;
        flex-direction: column;
        justify-content: center;   
        align-items: center;       
        text-align: center;      
       
    
            width: 57px;
            height: 57px;
            border: 2px solid #E5E5E5;
            border-radius: 8px;
            text-align: center;
            font-size: 18px;
            font-weight: 600;
            color: #333;
            background: white;
            
            outline: none;
        }
       
       
       
  .resend-section {
            margin-top: 20px;
            text-align: center;
        }

        .resend-text {
            color: #666;
            font-size: 14px;
            margin-bottom: 10px;
        }

        .resend-btn {
            background: none;
            border: none;
            color: #613510;
            text-decoration: underline;
            font-size: 14px;
            cursor: pointer;
            font-family: 'Lexend Deca', sans-serif;
        }

        .resend-btn:hover {
            color: #4e3629;
        }

        .resend-btn:disabled {
            color: #ccc;
            cursor: not-allowed;
            text-decoration: none;
        }


            .lock-icon {
                position: relative;
                z-index: 2;
            }

            .lock-shackle {
                width: 10vw;
                height: 10vw;
                border: 5vw solid #8B4513;
                border-bottom: none;
                border-radius: 1.8vw 1.8vw 0 0;
                margin: 0 auto 0vw;
                max-width: 80px;
                max-height: 100px;
                border-width: 10px;
            }

            .lock-body {
                width: 14vw;
                height: 14vw;
                background: #8B4513;
                border-radius: 1.8vw;
                position: relative;
                display: flex;
                align-items: center;
                justify-content: center;
                max-width: 180px;
                max-height: 160px;
            }

            .lock-keyhole {
                width: 6vw;
                height: 6vw;
                background: #F5DEB3;
                border-radius: 50%;
                position: relative;
                max-width: 40px;
                max-height: 40px;
            }

            .lock-keyhole::after {
                content: '';
                position: absolute;
                top: 100%;
                left: 50%;
                transform: translateX(-50%);
                width: 8vw;
                height: 8vw;
                background: #F5DEB3;
                max-width: 10px;
                max-height: 36px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="lock-section">
            <div class="lock-circle">
                <div class="lock-icon">
                    <div class="lock-shackle"></div>
                    <div class="lock-body">
                        <div class="lock-keyhole"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="content-section">
            <h1 class="title">Digite o código:</h1>
            <p class="subtitle">Digite o código de 6 caracteres que recebeu para prosseguir com o reset</p>
            
            <div class="code-inputs">
                <input type="text" class="code-input" maxlength="1" placeholder="">
                <input type="text" class="code-input" maxlength="1" placeholder="">
                <input type="text" class="code-input" maxlength="1" placeholder="">
                <input type="text" class="code-input" maxlength="1" placeholder="">
                <input type="text" class="code-input" maxlength="1" placeholder="">
                <input type="text" class="code-input" maxlength="1" placeholder="">
            </div>
            
            
            <button class="confirm-btn" onclick="confirmCode()">Confirmar</button>

             <div class="resend-section">
                <p class="resend-text">Não recebeu o código?</p>
                <button class="resend-btn" onclick="resendCode()" id="resendBtn">Reenviar código</button>
            </div>
        </div>
    </div>
    
    

 
      <div class="modal fade" id="mensagemModal" tabindex="-1" role="dialog" aria-labelledby="mensagemModalLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="mensagemModalLabel">Atenção</h5>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Fechar">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" id="mensagemModalBody">
                </div>
                <div class="modal-footer">
                    <button type="button" class="confirm-btn" data-dismiss="modal">Entendi</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        const inputs = document.querySelectorAll('.code-input');
        const codigoDoEmail = '789012'; // Código de exemplo
        
        // Funcionalidade dos inputs
        inputs.forEach((input, index) => {
            input.addEventListener('input', (e) => {
                const value = e.target.value;
                if (!/^\d*$/.test(value)) {
                    e.target.value = '';
                    return;
                }
                
                if (value.length === 1 && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }
            });
            
            input.addEventListener('keydown', (e) => {
                if (e.key === 'Backspace' && e.target.value === '' && index > 0) {
                    inputs[index - 1].focus();
                }
                
                if (e.key === 'ArrowLeft' && index > 0) {
                    inputs[index - 1].focus();
                }
                if (e.key === 'ArrowRight' && index < inputs.length - 1) {
                    inputs[index + 1].focus();
                }
            });
            
            input.addEventListener('focus', (e) => {
                e.target.select();
            });
        });
        
        // Foca no primeiro input
        inputs[0].focus();

        // Função para confirmar o código
        function confirmCode() {
            const enteredCode = Array.from(inputs).map(input => input.value).join('');
            const modalBody = document.getElementById('mensagemModalBody');
            const modalLabel = document.getElementById('mensagemModalLabel');

            if (enteredCode.length < 6) {
                modalLabel.textContent = 'Atenção';
                modalBody.innerHTML = 'Por favor, digite todos os 6 dígitos do código.';
                $('#mensagemModal').modal('show');
                return;
            }

            if (enteredCode === codigoDoEmail) {
                modalLabel.textContent = 'Sucesso';
                modalBody.innerHTML = 'Código confirmado com sucesso! Redirecionando...';
                $('#mensagemModal').modal('show');
                
                // Aguarda o modal ser totalmente exibido antes de redirecionar
                $('#mensagemModal').on('shown.bs.modal', function () {
                    setTimeout(() => {
                        window.location.href = 'esqueciasenha3.html';
                    }, 2000);
                });
            } else {
                modalLabel.textContent = 'Código Incorreto';
                modalBody.innerHTML = 'O código digitado está incorreto. Por favor, tente novamente.';
                $('#mensagemModal').modal('show');
                
                // Limpa os campos após erro
                setTimeout(() => {
                    inputs.forEach(input => input.value = '');
                    inputs[0].focus();
                }, 1000);
            }
        }

        // Função para reenviar código
        function resendCode() {
            const resendBtn = document.getElementById('resendBtn');
            const modalBody = document.getElementById('mensagemModalBody');
            const modalLabel = document.getElementById('mensagemModalLabel');
            
            // Desabilita o botão
            resendBtn.disabled = true;
            resendBtn.textContent = 'Reenviando...';
            
            // Simula o reenvio (aqui você faria a chamada para o backend)
            setTimeout(() => {
                modalLabel.textContent = 'Código Reenviado';
                modalBody.innerHTML = 'Um novo código foi enviado para o seu email. Por favor, verifique sua caixa de entrada.';
                $('#mensagemModal').modal('show');
                
                // Reabilita o botão após 30 segundos
                let countdown = 30;
                const countdownInterval = setInterval(() => {
                    resendBtn.textContent = `Reenviar em ${countdown}s`;
                    countdown--;
                    
                    if (countdown < 0) {
                        clearInterval(countdownInterval);
                        resendBtn.disabled = false;
                        resendBtn.textContent = 'Reenviar código';
                    }
                }, 1000);
            }, 1500);
        }

        // Permite confirmar com Enter
        document.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                confirmCode();
            }
        });
    </script>
</body>
</html>
